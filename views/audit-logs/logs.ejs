<style>
	body {
		font-family: Arial;
	}

	/* Style the tab */
	.tab {
		overflow: hidden;
		border: 1px solid #ccc;
		background-color: #f1f1f1;
	}

	/* Style the buttons inside the tab */
	.tab button {
		background-color: inherit;
		float: left;
		border: none;
		outline: none;
		cursor: pointer;
		padding: 14px 16px;
		transition: 0.3s;
		font-size: 17px;
	}

	/* Change background color of buttons on hover */
	.tab button:hover {
		background-color: #ddd;
	}

	/* Create an active/current tablink class */
	.tab button.active {
		background-color: #ccc;
	}

	/* Style the tab content */
	.tabcontent {
		display: none;
		padding: 6px 12px;
		border: 1px solid #ccc;
		border-top: none;
	}
</style>
</head>

<body>
	<div class="tab col s12">
		<button class="tablinks" onclick="openLogs(event, 'logs')">System Logs</button>
	</div>
	<% var d = JSON.stringify(data) %>
	<div id="logs" class="tabcontent">
		<table id="logs_table" class="display" width="100%">
			<thead>
				<tr>
					<th>EMP ID</th>
					<th>ACTION</th>
					<th>RECORD TYPE</th>
					<th>FIELD ID</th>
					<th>OLD VALUE</th>
					<th>NEW VALUE</th>
					<th>DATE</th>
					<th>EMP NAME</th>
				</tr>
			</thead>
		</table>
	</div>

	<script>
		var dataSet = '<%- d; %>'
		console.log('dataSet', JSON.parse(dataSet))
		$(document).ready(function () {
			$('#logs_table').DataTable({
				data: JSON.parse(dataSet),
				columns: [{
						data: "emp_id"
					},
					{
						data: "action"
					},
					{
						data: "record_type"
					},
					{
						data: "field_id"
					},
					{
						data: "old_value"
					},
					{
						data: "new_value"
					}, {
						data: 'time'
					}, {
						data: 'name'
					}
				]
			});
		});

		function openLogs(evt, logName) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}
			document.getElementById(logName).style.display = "block";
			evt.currentTarget.className += " active";
		}
	</script>


	</main>